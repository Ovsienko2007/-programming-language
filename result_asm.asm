IN
PUSH RAX
PUSH 0  ; number <- 0
ADD
POP  RDX
POP [RDX]
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
PUSH RAX
PUSH 1
ADD
POP RAX
CALL :0
PUSH RAX
PUSH 1
SUB
POP RAX
PUSH RAX
PUSH 1  ; answer <- 1
ADD
POP  RDX
POP [RDX]
PUSH RAX
PUSH 1
ADD
POP  RBX
PUSH [RBX]
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
OUT
OUT
NL
JMP :1
:0
PUSH RAX
PUSH 0  ; num <- 0
ADD
POP  RDX
POP [RDX]
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
PUSH 0
ISB
PUSH 0
JE :3
PUSH 0
PUSH 1
SUB
RET
JMP :2
:3
:2
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
PUSH 0
ISE
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
PUSH 1
ISE
OR
PUSH 0
JE :5
PUSH 1
RET
JMP :4
:5
:4
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
PUSH 1
SUB
PUSH RAX
PUSH 1
ADD
POP RAX
CALL :0
PUSH RAX
PUSH 1
SUB
POP RAX
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
MUL
PUSH RAX
PUSH 0  ; num <- 0
ADD
POP  RDX
POP [RDX]
PUSH RAX
PUSH 0
ADD
POP  RBX
PUSH [RBX]
RET
RET
:1
HALT
