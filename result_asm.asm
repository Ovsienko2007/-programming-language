IN
PUSH 0  ; x <- 0
POP  RBX
POP [RBX]
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 10
ISB
PUSH 0
JE :2
:1
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 10
ISB
PUSH 0
JE :0
PUSH 0
POP  RBX
PUSH [RBX]
OUT
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 1
ADD
PUSH 0  ; x <- 0
POP  RBX
POP [RBX]
JMP :1
:2
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 15
ISB
PUSH 0
JE :5
:4
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 15
ISB
PUSH 0
JE :3
PUSH 0
POP  RBX
PUSH [RBX]
OUT
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 2
ADD
PUSH 0  ; x <- 0
POP  RBX
POP [RBX]
JMP :4
:5
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 20
ISA
PUSH 0
JE :7
PUSH 0
POP  RBX
PUSH [RBX]
PUSH 2
ADD
PUSH 0  ; x <- 0
POP  RBX
POP [RBX]
JMP :6
:7
IN
PUSH 0  ; x <- 0
POP  RBX
POP [RBX]
:6
:3
:0
PUSH 0
POP  RBX
PUSH [RBX]
OUT
HALT
